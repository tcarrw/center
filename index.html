<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>T9 Signal Terminal Â· PLNT Earth</title>
<meta name="theme-color" content="#00e0c6">
<style>
:root{
  --bg:#001616;
  --panel:#0a2020;
  --accent:#00e0c6;
  --accent2:#5af;
  --ink:#a8fff0;
  --muted:#66b3a9;
  --font:"VT323",monospace;
}
@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
*{box-sizing:border-box;}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:var(--font);
  display:flex;
  flex-direction:column;
  align-items:center;
  min-height:100vh;
  overflow-x:hidden;
}
header{
  text-align:center;
  padding:12px 8px 6px 8px;
  color:var(--accent);
  font-size:22px;
  letter-spacing:1px;
  text-shadow:0 0 6px var(--accent2);
  transition:opacity .6s ease;
}
.window{
  background:var(--panel);
  border:2px solid var(--accent2);
  box-shadow:inset -2px -2px #001a1a,inset 2px 2px var(--accent2);
  padding:14px;
  margin:8px;
  max-width:420px;
  width:calc(100% - 32px);
}
.display{
  background:#000;
  color:var(--ink);
  padding:8px;
  border:2px inset var(--accent2);
  font-size:20px;
  text-align:center;
  min-height:32px;
  letter-spacing:2px;
  overflow-x:auto;
}
#breadcrumb{
  font-size:14px;
  color:var(--accent2);
  text-align:center;
  margin:6px 0;
}
.keypad{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:6px;
  margin-top:8px;
}
button.key{
  background:#1b1f1f;
  border:2px outset var(--accent2);
  color:var(--ink);
  font-family:var(--font);
  font-size:18px;
  padding:12px 0;
  cursor:pointer;
}
button.key:active{
  border:2px inset var(--accent2);
  background:#003;
}
#combos{
  font-size:14px;
  color:var(--accent2);
  margin-top:8px;
  text-align:center;
  min-height:20px;
}
#note{
  margin-top:12px;
  text-align:center;
  font-size:16px;
  color:var(--accent2);
  min-height:20px;
}
#videoWrapper{
  position:relative;
  width:100%;
  max-width:420px;
  aspect-ratio:16/9;
  margin-top:12px;
  border:2px solid var(--accent2);
  box-shadow:0 0 10px #003 inset;
}
iframe{
  width:100%;height:100%;
  border:0;
}
footer{
  text-align:center;
  font-size:13px;
  color:var(--muted);
  margin:20px 0 10px 0;
  opacity:0.7;
}
body::after{
  content:"";
  position:fixed;inset:0;
  background:repeating-linear-gradient(transparent 0 1px,rgba(0,255,255,0.03) 1px 2px);
  pointer-events:none;
  animation:flicker 1.5s infinite;
}
@keyframes flicker{50%{opacity:0.95;}100%{opacity:1;}}
.hints{
  margin-top:18px;
  text-align:center;
  font-size:26px;
  line-height:1.6;
}
.hint{margin:6px 0;transition:all 0.4s ease;}
.hint .emoji{
  opacity:0.3;filter:grayscale(100%);
  transition:opacity .4s,filter .4s,text-shadow .4s;
}
.hint.unlocked .emoji{
  opacity:1;filter:none;text-shadow:0 0 8px var(--accent2);
}
.details{
  margin-top:4px;
  font-size:14px;
  color:var(--accent2);
  animation:fadeIn .6s ease forwards;
}
.details .title{font-weight:bold;}
.details a{
  color:var(--accent2);
  text-decoration:none;
  font-size:12px;
}
@keyframes fadeIn{from{opacity:0;transform:translateY(-3px);}to{opacity:1;transform:none;}}
</style>
</head>
<body>
<header id="header">T9 Signal Terminal Â· PLNT Earth</header>

<div id="videoWrapper">
  <iframe id="ytplayer" src="https://www.youtube.com/embed/p2ZdeIKJA8c?autoplay=1&mute=1&loop=1&playlist=p2ZdeIKJA8c"
    allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>

<div class="window">
  <div class="display" id="display"></div>
  <div id="breadcrumb"></div>
  <div class="keypad" id="pad"></div>
  <div id="combos"></div>
  <div id="note"></div>
</div>

<div id="hints" class="hints"></div>

<footer>Â© PLNT Earth Â· earth.plnt.earth Â· This page returns to ground</footer>

<script>
const pad=document.getElementById('pad');
const display=document.getElementById('display');
const combosBox=document.getElementById('combos');
const breadcrumb=document.getElementById('breadcrumb');
const noteBox=document.getElementById('note');
const header=document.getElementById('header');
const ytplayer=document.getElementById('ytplayer');

const t9map={2:"ABC",3:"DEF",4:"GHI",5:"JKL",6:"MNO",7:"PQRS",8:"TUV",9:"WXYZ",0:" "};

const directory=[
 {code:"456836926678837",title:"Ninajirachi â€” 4562.world",emoji:"ðŸ—¼",tone:128,
  url:"https://4562.world",
  youtube:"https://www.youtube.com/watch?v=RKybAhTw8iE",
  note:"ðŸ—¼ I Love My Computer",
  header:"Dedicated to my computer and the Tower Â· Ninajirachi Â· infohazard"},
 {code:"627462",title:"Marina â€” Immortal",emoji:"ðŸ¦‹",tone:160,
  url:"https://mirrorhoney.plnt.earth",
  youtube:"https://www.youtube.com/watch?v=dYGKxxTXqSs",
  note:"ðŸ¦‹ you are"},
 {code:"744743",title:"Sigrid â€” A Driver Saved My Night",emoji:"ðŸª¼",tone:140,
  url:"https://youtu.be/sDEltzoEfZs",
  youtube:"https://www.youtube.com/watch?v=sDEltzoEfZs",
  note:"ðŸª¼ keep driving"},
 {code:"32469",title:"Dagny â€” Brightsider",emoji:"ðŸŒ¸",tone:180,
  url:"https://dagny.plnt.earth",
  youtube:"https://www.youtube.com/watch?v=BskeuUMp_lo",
  note:"ðŸ‘‘ Green light on strawberry dreams â€” Lorde"}
];

const hints = directory.map(d=>({emoji:d.emoji,code:d.code,title:d.title,note:d.note,url:d.url}));

let input="",audioCtx=null;

for(let i=1;i<=9;i++){
  const b=document.createElement('button');
  b.className='key';
  if(t9map[i]) b.innerHTML=`${i}<br><small>${t9map[i]}</small>`;
  else b.textContent=i;
  b.onclick=()=>press(i);
  pad.appendChild(b);
}
const b0=document.createElement('button');
b0.className='key';b0.innerHTML='0<br><small>Space</small>';b0.onclick=()=>press(0);
pad.appendChild(b0);
const bClear=document.createElement('button');
bClear.className='key';bClear.textContent='â†';bClear.onclick=clearOne;
pad.appendChild(bClear);

function press(n){
  input+=n;
  display.textContent=input;
  playTone(128);
  showCombos();
  checkDirectory();
}
function clearOne(){
  input=input.slice(0,-1);
  display.textContent=input;
  combosBox.textContent='';
  breadcrumb.textContent='';
  noteBox.textContent='';
  header.textContent='T9 Signal Terminal Â· PLNT Earth';
  setVideo('p2ZdeIKJA8c'); // reset to default
}
function playTone(freq){
  if(!audioCtx) audioCtx=new(window.AudioContext||window.webkitAudioContext)();
  const osc=audioCtx.createOscillator();
  const gain=audioCtx.createGain();
  osc.type='sine';osc.frequency.value=freq;
  osc.connect(gain);gain.connect(audioCtx.destination);
  osc.start();gain.gain.setValueAtTime(0.1,audioCtx.currentTime);
  osc.stop(audioCtx.currentTime+0.1);
}
function t9Combos(digits){
  if(!digits) return [];
  let combos=[''];
  for(let d of digits){
    const letters=t9map[d]?t9map[d].split(''):[d];
    let next=[];
    for(let c of combos)for(let l of letters)next.push(c+l);
    combos=next;
  }
  return combos;
}
function showCombos(){
  const c=t9Combos(input);
  combosBox.textContent=c.slice(0,8).join(' ');
}

function setVideo(url){
  const id=url.split("v=")[1]?.split("&")[0];
  if(id){
    ytplayer.src=`https://www.youtube.com/embed/${id}?autoplay=1&mute=1&loop=1&playlist=${id}`;
  }
}

function checkDirectory(){
  const match=directory.find(e=>e.code===input);
  if(match){
    breadcrumb.textContent=`âœ¨ ${match.code} â†’ ${match.title}`;
    noteBox.style.color=match.emoji==='ðŸ¦‹'?'#ffb6c1':'var(--accent2)';
    noteBox.textContent=match.note||'';
    header.textContent=match.header||'T9 Signal Terminal Â· PLNT Earth';
    setVideo(match.youtube);
    setTimeout(()=>window.open(match.url,'_blank'),1000);
    unlock(match.code);
  }
}
function unlock(code){
  let unlocked=JSON.parse(localStorage.getItem('unlockedCodes')||"[]");
  if(!unlocked.includes(code)){
    unlocked.push(code);
    localStorage.setItem('unlockedCodes',JSON.stringify(unlocked));
  }
  renderHints();
}

function renderHints(){
  const unlocked=JSON.parse(localStorage.getItem('unlockedCodes')||"[]");
  const html=hints.map(h=>{
    const open=unlocked.includes(h.code);
    return `
      <div class="hint ${open?'unlocked':''}">
        <div class="emoji">${h.emoji}</div>
        ${open?`<div class="details">
          <div class="title">${h.title}</div>
          <div class="note">${h.note}</div>
          ${h.url?`<a href="${h.url}" target="_blank">â†— open</a>`:''}
        </div>`:''}
      </div>`;
  }).join('');
  document.getElementById('hints').innerHTML=html;
}
renderHints();
</script>
</body>
</html>
